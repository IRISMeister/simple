$ docker-compose build
$ docker-compose push
イメージ格納場所がdockerとは異なるので、push/pullが必要。

アップロードが低速な場合は、microk8sが用意したローカルのレポジトリを使う手もある。
この場合、simple.ymlのimageもlocalhost:32000/simpleに変更する事。
$ docker tag dpmeister/simple localhost:32000/simple
$ docker push localhost:32000/simple

$ ./run.sh

ToDo:
なぜかpasswordhashが反映されていない。下記を実行すると反映される。
ベースイメージ(containers.intersystems.com/intersystems/iris-community:2021.1.0.205.0)使用時には不要な再起動。
$ microk8s kubectl exec -it iris-0 -- iris restart iris

$ microk8s kubectl get svc -l app=my-iris
NAME   TYPE           CLUSTER-IP       EXTERNAL-IP      PORT(S)           AGE
iris   LoadBalancer   10.152.183.133   192.168.11.110   52773:31335/TCP   3m37s

$ ../app-call1.sh 192.168.11.110

$ microk8s kubectl exec -it iris-0 -- bash

